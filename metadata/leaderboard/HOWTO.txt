################################################################
## Metadata files are generated automatically by searching input files
## (peaks, fasta or fastq sequences, PBM tables depending on the data
## type).
##
## This can be done with the following commands. 

## Generate one metadata file per data type (CSH GHTS HTS SMS PBM)
make -f makefiles/00_parameters.mk iterate_datatypes DATA_TYPE_TASK=metadata

## Check the date of the metadata files
ls -tlr metadata/leaderboard/

## Generate a metadata file with all the data types for the integration of all matrices
make -f makefiles/05_integration.mk all_metadata

## Count the number of TFs per metadata file
cut -f 1 metadata/leaderboard/TF_DATASET_all-types.tsv | sort | uniq -c | sort -nr
     10 NACC2
      7 TIGD3
      7 RORB
      7 PRDM5
      7 LEF1
      6 ZNF362
      5 NFKB1
      4 ZNF407
      3 SP140
      2 GABPA							   

## Previous command
# for f in TF*.tsv; do perl -lne 'BEGIN{@t=split(/[_\.]/,$ARGV[0])} print "$_\t$t[2]"' $f; done > TF_DATASET_all-types.tsv 

